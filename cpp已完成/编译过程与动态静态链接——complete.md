# 编译过程
1. 预处理 .cpp->.cpp（头文件，宏）
2. 编译 .cpp->.s->.obj（转换为汇编）
3. 链接 （.obj之间还要加上库）


# 动态链接与静态链接

最大区别：链接时机不同，静态链接在编译时代码就已经链接完毕，动态链接需要在运行时进行链接。
## 静态链接缺点：
```
libx.a
foo.o void foo();
useless.o void useless();

a.cpp
#include"lib/x.hpp"
int main()
{
    foo();
}

a
a.o
foo.o
useless.o
```
编译后在a中存在useless，foo，每个使用此库的目标都需要有，一个明显缺点是空间浪费，还有一个是如果你更改了库的实现并重新编译成库，你想让所有使用库的代码执行更改后的库代码，需要对所有依赖此库的代码重新编译。

## 动态链接如何解决上述问题
动态链接在程序运行时执行链接，当a执行过程中系统发现了a中使用了libx.so那么会从路径中加载libx.o进行链接。
### 动态链接缺点
一个明显缺点是拖慢了运行速度，另一个缺点是需要仔细的管理版本让程序始终执行兼容的代码。
连接时只会查找是否存在此库，可以通过SONAME字段进行依赖指定，然后进行链接。

linux下版本格式如下↓

    libx.so.x.y.z